<div class="buttoncontainer">
  <div>
    <a class="o-button  buttonsXT" id="buyAllButtonXT" href="#">Alle productent toevoegen</a>
    <!-- <a class="o-button --secondary buttonsXT" id="removeAllButtonXT" href="#">Verwijderen</a> -->
  </div>
</div>
<div id="popup">
  <div class="popupcontrols">
    <span data-tms-intpromo-name="Lijstje_popUp_close" id="popupclose">X</span>
  </div>
  <div class="popupcontent">
    <h2 class="h3-like">Psst... Kijk je de hoeveelheden even na?</h2>
    <p>Alle producten zitten nu in je winkelwagen, maar geef je per product nog aan welke hoeveelheid je graag wil? Bedankt! ;-)</p>
    <div class="button-group">
      <a id="verderWinkelen" href="#">
        <div id="removeAllButtonXT" class="o-button --secondary" data-tms-intpromo-name="Lijstje_Ongedaan_maken">Ongedaan maken</div>
      </a>
      <a href="/colruyt/nl/winkelwagen">
        <div class="o-button --primary" data-tms-intpromo-name="Lijstje_naar_winkelwagen">Naar het winkelwagen</div>
      </a>
    </div>
  </div>
</div>
<div id="overlay"></div>
<style>
  #overlay {
    display: none;
    position: absolute;
    top: 0;
    bottom: 0;
    background: #999;
    width: 100%;
    height: 100%;
    opacity: 0.5;
    z-index: 9998 !important;
  }

  #popup {
    display: none;
    position: absolute;
    top: 40vh;
    left: 45%;
    background: #fff;
    padding: 16px;
    margin-left: -100px;
    margin-top: -100px;
    z-index: 9999;
    border-radius: 8px;
    border: 1px solid #a3a1a1;
    width: 45%;
    transform: translate(-50%, -50%);
  }

  #popup h2 {
    margin-bottom: 8px;
  }

  #popup .button-group {
    margin-top: 24px;
    justify-content: flex-end;
    align-items: flex-end;
  }

  #popup .button-group a {
    text-decoration: none;
  }

  #popupclose {
    float: right;
    padding: 10px;
    cursor: pointer;
  }

  .popupcontent {
    padding: 24px;
  }

  #button {
    cursor: pointer;
  }

  .buttoncontainer {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    margin: 16px 0 0 0;
  }
</style>


<script>
  // Initialize Variables
  const closePopupXT = document.getElementById("popupclose");
  const verderWinkelenXT = document.getElementById("verderWinkelen");
  const overlayXT = document.getElementById("overlay");
  const popupXT = document.getElementById("popup");
  const buttonXT = document.getElementById("buyAllButtonXT");

  closePopupXT.addEventListener("click", testClose);
  verderWinkelenXT.addEventListener("click", testClose);
  overlayXT.addEventListener("click", testClose);

  function testClose() {
    overlayXT.style.display = 'none';
    popupXT.style.display = 'none';
  }
  // Show Overlay and Popup
  buttonXT.onclick = function () {
    overlayXT.style.display = 'block';
    popupXT.style.display = 'block';
  }
  $(document).ready(function () {
    const buyAllButton = document.getElementById("buyAllButtonXT");
    const removeAllButton = document.getElementById("removeAllButtonXT");
    buyAllButton.addEventListener("click", buyThisRowOfProdcuts);
    removeAllButton.addEventListener("click", RemoveThisRowOfProdcuts);

    function buyThisRowOfProdcuts() {
      const allBuyButtons = document.getElementsByClassName('add-to-basket-container')
      // const allBuyButtons = document.getElementsByClassName('add-to-basket__input-wrapper')[0].getElementsByClassName("--add");
      //console.log(allBuyButtons);
      for (var i = 0; i < allBuyButtons.length; i++) {
        console.log('allBuyButtons[i]', allBuyButtons[i])
        $(allBuyButtons[i].getElementsByClassName("--add --piece")).click(); //--piece
        //console.log(allBuyButtons[i]); //second console output
      }
    }

    function RemoveThisRowOfProdcuts() {
      const allRemoveButtons = document.getElementsByClassName("--remove --piece");
      //console.log(allRemoveButtons);
      for (var i = 0; i < allRemoveButtons.length; i++) {
        console.log('allRemoveButtons[i]', allRemoveButtons[i])
        $(allRemoveButtons[i]).click();
        //console.log(allRemoveButtons[i]); //second console output
      }
    }


  });
</script>


<!-- 
// Close Popup Event
// closePopupXT.onclick = function () {
//   overlayXT.style.display = 'none';
//   popupXT.style.display = 'none';
// };
// verderWinkelenXT.onclick = function () {
//   overlayXT.style.display = 'none';
//   popupXT.style.display = 'none';
// };
// overlayXT.onclick = function () {
//   overlayXT.style.display = 'none';
//   popupXT.style.display = 'none';
// }


// allBuyButtons[0].addEventListener("click", ThingJustClicked);
// function TestFunction() {
//   //console.log("test")
// }

// function ThingJustClicked() {
//   //console.log("smth clicked");
// } -->